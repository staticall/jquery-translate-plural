<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="author" content="staticall" />
    <title>Test Page &ndash; staticall</title>

    <!-- Presentation purpose only -->
    <link rel="stylesheet" type="text/css" href="css/layout.css">
    <!-- /Presentation purpose only -->

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" src="translate.js"></script>
    <script type="text/javascript">
      $(function(){
        TRANSLATE.init('ru', '{"day":["день","дня","дней"],"hour":["час","часа","часов"],"minute":["минута","минуты","минут"],"month":["месяц","месяца","месяцев"],"week":["неделя","недели","недель"]}');
        TRANSLATE.addLocalePhrases('{"day":["day","days"],"hour":["hour","hours"],"minute":["minute","minutes"],"month":["month","months"],"week":["week","weeks"]}', 'en');

        $('#input-count').keypress(function(event){
          if(event.which == 13)
          {
            $('#input-submit').click();
          }
        });

        $('#input-submit').click(function(){
          var text = $('#input-string').val();
          var count = $('#input-count').val();
          count = count - 0;
          var locale = $('#input-locale').val();

          if(text && $.inArray(['day', 'hour', 'minute', 'month', 'week']))
          {
            try
            {
              var result = TRANSLATE.translate(text, count, locale);
              $('#result').text(count +' '+ result.toString());
            }
            catch(e)
            {
              throw 'Exception catched - '+ e.toString();
            }
          }
        });
      });
    </script>
  </head>
  <body>
    <div class="wrapper">
      <div class="spacer">
        <div class="inline">
          <input type="text" class="input-text" value="0" id="input-count" placeholder="Count for pluralization" />
        </div>
        <div class="inline">
          <select id="input-string">
            <option value="minute">Minute</option>
            <option value="hour">Hour</option>
            <option value="day">Day</option>
            <option value="week">Week</option>
            <option value="month">Month</option>
          </select>
        </div>
        <div class="inline">
          <select id="input-locale">
            <option value="ru">Russian</option>
            <option value="en">English</option>
          </select>
        </div>

        <div class="clearfix"></div>
      </div>

      <div class="spacer">
        <button id="input-submit">Submit</button>
      </div>

      <div class="spacer">
        <span id="result"></span>
      </div>
    </div>
  </body>
</html>